<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>SENSORnet Gateway</title><style>{{INLINE_CSS}}</style></head><body><div class="app"><header class="header"><div class="topbar"><div><h1>SENSORnet Gateway</h1><div id="topUptime" class="top-uptime">Uptime: -</div><div class="topbar-env-summary"><div class="summary-card topbar-env-card"><div class="summary-title">Indoor</div><div class="summary-value" id="motionSummaryIndoor">-</div><div class="summary-sub" id="motionSummaryIndoorSub">0 sensors</div></div><div class="summary-card topbar-env-card"><div class="summary-title">Outdoor</div><div class="summary-value" id="motionSummaryOutdoor">-</div><div class="summary-sub" id="motionSummaryOutdoorSub">0 sensors</div></div></div></div><div class="topbar-right"><div class="nav-links"><a href="/" class="active">Dashboard</a><a href="/settings">Settings</a></div></div></div><div class="cyberpunk-art" aria-hidden="true"><div class="art-grid"></div><div class="art-title">SYSTEM CORE</div></div></header><div id="dailyTodoWrap" class="daily-todo-wrap" aria-label="Daily care tasks"><h3 class="daily-todo-title">Today's care</h3><ul id="dailyTodoList" class="daily-todo-list"></ul></div><div class="tabs"><button type="button" data-tab="overview" class="active">Overview</button><button type="button" data-tab="system">System</button><button type="button" data-tab="motion">Motion</button><button type="button" data-tab="sensors">Sensors</button><button type="button" data-tab="env">Environment</button><button type="button" data-tab="garden">Garden</button><button type="button" data-tab="video">Video</button><button type="button" data-tab="plant">Plant</button><button type="button" data-tab="fishtank">Fish tank</button><button type="button" data-tab="log">Data log</button><button type="button" data-tab="ble_log">BLE Log</button><button type="button" data-tab="wifi_log">WiFi Log</button></div><div id="overview" class="panel active"><h2>Overview</h2><div id="overviewLayoutBar" class="overview-layout-bar"></div><div class="overview-grid"><div class="overview-card" data-goto-tab="system"><h3 class="overview-card-title">System</h3><div class="overview-card-body"><div><span>HaLow</span><strong id="overviewHalow">-</strong></div><div><span>Heap</span><strong id="overviewHeap">-</strong></div><div><span>2.4 GHz</span><strong id="overviewWifi">-</strong></div><div class="overview-rssi-wrap"><div class="overview-rssi-row halow-top"><div class="halow-top-meta"><div id="halowTopTitle" class="halow-top-title">HaLow RSSI</div><div class="halow-top-bar" aria-hidden="true"><div id="halowTopRssiFill" class="halow-top-fill"></div></div><div id="halowTopRssiText" class="halow-top-rssi">- dBm</div><div id="halowTopIp" class="halow-top-ip">IP: -</div></div></div><div class="wifi-sta-top overview-rssi-row"><div class="halow-top-meta"><div class="halow-top-title">2.4 GHz STA</div><div class="halow-top-bar" aria-hidden="true"><div id="wifiTopRssiFill" class="halow-top-fill"></div></div><div id="wifiTopRssiText" class="halow-top-rssi">- dBm</div><div id="wifiTopIp" class="halow-top-ip">IP: -</div></div></div></div><button type="button" class="overview-goto" data-goto-tab="system">View</button></div></div><div class="overview-card" data-goto-tab="motion"><h3 class="overview-card-title">Motion (Security)</h3><div class="overview-card-body"><div><span>Sensors</span><strong id="overviewMotionTotal">-</strong></div><div><span>Active</span><strong id="overviewMotionActive">-</strong></div><div><span>Last</span><strong id="overviewMotionLast">-</strong></div><button type="button" class="overview-goto" data-goto-tab="motion">View</button></div></div><div class="overview-card" data-goto-tab="sensors"><h3 class="overview-card-title">Sensors</h3><div class="overview-card-body"><div><span>Nodes</span><strong id="overviewNodes">-</strong></div><div><span>Cameras</span><strong id="overviewCameras">-</strong></div><button type="button" class="overview-goto" data-goto-tab="sensors">View</button></div></div><div class="overview-card overview-card--env" data-goto-tab="env"><h3 class="overview-card-title">Environment</h3><div class="overview-card-body overview-env-body"><div class="overview-env-section"><div class="overview-env-label">Indoor</div><div id="overviewEnvIndoor" class="overview-env-value">-</div><div id="overviewEnvIndoorSub" class="overview-env-sub">0 sensors</div></div><div class="overview-env-section"><div class="overview-env-label">Outdoor</div><div id="overviewEnvOutdoor" class="overview-env-value">-</div><div id="overviewEnvOutdoorSub" class="overview-env-sub">0 sensors</div></div><button type="button" class="overview-goto" data-goto-tab="env">View</button></div></div><div class="overview-card" data-goto-tab="plant"><h3 class="overview-card-title">Plant Monitor</h3><div class="overview-card-body"><div><span>Plants</span><strong id="overviewPlantCount">-</strong></div><div><span>Need water</span><strong id="overviewPlantWater">-</strong></div><div><span>Avg moisture</span><strong id="overviewPlantAvgMoisture">-</strong></div><button type="button" class="overview-goto" data-goto-tab="plant">View</button></div></div><div class="overview-card" data-goto-tab="fishtank"><h3 class="overview-card-title">Fish tank</h3><div class="overview-card-body"><div><span>Status</span><strong id="overviewTankStatus">-</strong></div><div><span>Water temp</span><strong id="overviewTankTemp">-</strong></div><button type="button" class="overview-goto" data-goto-tab="fishtank">View</button></div></div><div class="overview-card" data-goto-tab="log"><h3 class="overview-card-title">Data log</h3><div class="overview-card-body"><div id="overviewLogCount">-</div><button type="button" class="overview-goto" data-goto-tab="log">View</button></div></div><div class="overview-card" data-goto-tab="ble_log"><h3 class="overview-card-title">BLE Log</h3><div class="overview-card-body"><div><span>Whitelist</span><strong id="overviewBleCount">-</strong></div><button type="button" class="overview-goto" data-goto-tab="ble_log">View</button></div></div><div class="overview-card" data-goto-tab="wifi_log"><h3 class="overview-card-title">WiFi Log</h3><div class="overview-card-body"><div><span>Entries</span><strong id="overviewWifiLogCount">-</strong></div><button type="button" class="overview-goto" data-goto-tab="wifi_log">View</button></div></div></div></div><div id="system" class="panel"><h2>System</h2><div id="halowCard" class="halow-card collapsible"><h3><span class="halow-title"><span id="halowIndicator" class="halow-indicator"></span><span>HaLow link</span></span><span class="halow-actions"><span id="halowReconnectStatus" class="muted"></span><span class="tap-hint">Tap to expand</span></span></h3><div class="halow-rssi-row"><div class="rssi-bar" aria-hidden="true"><div id="halowRssiFill" class="rssi-fill"></div></div><div class="halow-rssi-db" id="halowRssiDbm">-</div></div><div class="halow-status" id="halowStatus">Loading...</div><div class="halow-mac" id="halowIpCollapsed">IP: -</div><div id="halowDetails" class="collapsible-body"><div class="halow-mac" id="halowMac">MAC: -</div><div class="sensor-data" id="halowData"></div><div class="halow-actions" style="margin-top:8px"><button type="button" id="btnHalowReconnect" class="primary">Reconnect</button></div></div></div><div id="wifiStaCard" class="wifi-sta-card halow-card collapsible"><h3><span class="halow-title"><span id="wifiStaIndicator" class="halow-indicator"></span><span>2.4 GHz STA link</span></span></h3><div class="halow-rssi-row"><div class="rssi-bar" aria-hidden="true"><div id="wifiStaRssiFill" class="rssi-fill"></div></div><div class="halow-rssi-db" id="wifiStaRssiDbm">-</div></div><div class="halow-status" id="wifiStaStatus">-</div><div class="halow-mac" id="wifiStaIpCollapsed">IP: -</div></div><div id="systemCard" class="gateway-card system-card collapsible"><h3><span class="halow-title"><span id="systemIndicator" class="sys-indicator"></span><span>System status</span></span><button type="button" id="btnSystemToggle" class="card-toggle">Details</button></h3><div class="sensor-data" id="systemSummary"><div><span>Heap used</span><strong id="statHeapPct">-</strong></div><div><span>CPU usage</span><strong id="statCpuPct">-</strong></div></div><div class="system-usage"><div class="usage-bar" aria-hidden="true"><div id="statCpuFill" class="usage-fill"></div></div><div class="muted" id="statCpuText">CPU: -</div></div><div id="systemDetails" class="collapsible-body"><div class="sensor-data" id="systemStats"><div><span>Free heap</span><strong id="statHeapFree">-</strong></div><div><span>Used heap</span><strong id="statHeapUsed">-</strong></div><div><span>Min free heap</span><strong id="statHeapMinFree">-</strong></div></div></div></div><div id="wifi2gCard" class="gateway-card collapsible"><h3><span class="halow-title"><span id="wifi2gIndicator" class="sys-indicator"></span><span>2.4 GHz Status</span></span><button type="button" id="btnWifi2gToggle" class="card-toggle">Details</button></h3><div class="halow-rssi-row wifi2g-sta-rssi-row"><div class="rssi-bar" aria-hidden="true"><div id="wifi2gStaRssiFill" class="rssi-fill"></div></div><div class="halow-rssi-db" id="wifi2gStaRssiDbm">-</div></div><div class="sensor-data" id="wifi2gSummary"><div><span>AP SSID</span><strong id="wifi2gApSsid">-</strong></div><div><span>AP clients</span><strong id="wifi2gApClients">-</strong></div></div><div id="wifi2gDetails" class="collapsible-body"><div class="sensor-data"><div><span>AP IP</span><strong id="wifi2gApIp">-</strong></div><div><span>AP channel</span><strong id="wifi2gApChan">-</strong></div><div><span>Backhaul</span><strong id="wifi2gBackhaul">-</strong></div><div><span>STA SSID</span><strong id="wifi2gStaSsid">-</strong></div><div><span>STA RSSI</span><strong id="wifi2gStaRssi">-</strong></div><div><span>STA IP</span><strong id="wifi2gStaIp">-</strong></div></div></div></div></div><div id="motion" class="panel"><h2>Motion</h2><div class="motion-section motion-sensor-tiles-wrap"><h3 class="motion-section-title">Motion sensors</h3><p class="motion-tap-hint">Tap a card to clear motion alert.</p><div id="motionSensorCards" class="motion-sensor-cards"></div></div><div class="motion-summary"><div class="summary-card"><div class="summary-title">Sensors online</div><div class="summary-value" id="motionSummaryTotal">-</div><div class="summary-sub" id="motionSummaryStale">Stale: -</div></div><div class="summary-card"><div class="summary-title">Active motion</div><div class="summary-value" id="motionSummaryActive">-</div><div class="summary-sub">Not dismissed</div></div><div class="summary-card" id="motionSummaryLastCard"><div class="summary-title">Last motion</div><div class="summary-value" id="motionSummaryLast">-</div><div class="summary-sub" id="motionSummaryLastLabel">Most recent trigger</div></div><div class="summary-card"><div class="summary-title">Temp</div><div class="summary-value" id="motionSummaryEnvTemp">-</div><div class="summary-sub">°F avg</div></div><div class="summary-card"><div class="summary-title">Humidity</div><div class="summary-value" id="motionSummaryEnvHum">-</div><div class="summary-sub">% avg</div></div><div class="summary-card"><div class="summary-title">AQI</div><div class="summary-value" id="motionSummaryEnvAqi">-</div><div class="summary-sub">avg</div></div><div class="summary-card"><div class="summary-title">Pressure</div><div class="summary-value" id="motionSummaryEnvPressure">-</div><div class="summary-sub">hPa avg</div></div></div><div id="gatewayCard" class="gateway-card"><h3>Sensor Mesh</h3><div class="sensor-data" id="gatewayStats"><div><span>Gateways</span><strong id="statGateways">1</strong></div><div><span>ESP-NOW nodes</span><strong id="statNodes">-</strong></div><div><span>Cameras</span><strong id="statCameras">-</strong></div></div></div></div><div id="sensors" class="panel"><h2>Sensors</h2><p class="sensor-help">Each sensor is shown as its own card with key live metrics (motion, temperature, humidity, and air quality).</p><div id="labelEditForm"><strong>Edit label</strong> <span id="labelEditMac"></span>: <input id="labelEditInput" placeholder="e.g. Living Room"> <button type="button" id="labelEditSave" class="primary">Save</button> <button type="button" id="labelEditCancel">Cancel</button></div><div class="sensors-section sensors-devices-wrap"><h3 class="sensors-section-title">Devices</h3><div id="sensorCards" class="weather-wrap"></div></div></div><div id="env" class="panel"><h2>Environment</h2><div class="graph-card"><h3 class="graph-title">Environmental Telemetry <span id="envGraphLabel" class="graph-subtitle">All sensors</span></h3><div class="graph-wrap"><canvas id="envGraph" width="800" height="200"></canvas></div><div id="envGraphTime" class="graph-time"></div><div class="graph-legend"><span class="graph-legend-btn" data-series="temp" role="button" tabindex="0"><i class="graph-dot dot-temp"></i>Temp (F)</span><span class="graph-legend-btn" data-series="hum" role="button" tabindex="0"><i class="graph-dot dot-hum"></i>Humidity (%)</span><span class="graph-legend-btn" data-series="aqi" role="button" tabindex="0"><i class="graph-dot dot-aqi"></i>AQI</span><span class="graph-legend-btn" data-series="pressure" role="button" tabindex="0"><i class="graph-dot dot-pressure"></i>Pressure (hPa)</span></div></div><div class="env-sensor-wrap"><div class="env-sensor-title">Select sensor</div><div id="envSensorList" class="env-sensor-list"></div></div><div id="envSensorCards" class="weather-wrap"></div></div><div id="garden" class="panel"><h2>Garden</h2><p class="sensor-help" style="margin-bottom:16px">Outdoor sensors and garden environmental data. Set sensors to Outdoor in the Sensors tab to see them here.</p><div class="motion-summary" id="gardenSummary"><div class="summary-card"><div class="summary-title">Outdoor sensors</div><div class="summary-value" id="gardenSensorCount">-</div><div class="summary-sub" id="gardenSensorCountSub">0 online</div></div><div class="summary-card"><div class="summary-title">Temp</div><div class="summary-value" id="gardenTemp">-</div><div class="summary-sub">F avg</div></div><div class="summary-card"><div class="summary-title">Humidity</div><div class="summary-value" id="gardenHum">-</div><div class="summary-sub">% avg</div></div><div class="summary-card"><div class="summary-title">AQI</div><div class="summary-value" id="gardenAqi">-</div><div class="summary-sub">air quality</div></div><div class="summary-card"><div class="summary-title">Pressure</div><div class="summary-value" id="gardenPressure">-</div><div class="summary-sub">hPa avg</div></div></div><div class="sensors-section sensors-devices-wrap" style="margin-top:20px"><h3 class="sensors-section-title">Outdoor units</h3><div id="gardenSensorCards" class="weather-wrap"></div></div></div><div id="video" class="panel"><h2>Video</h2><p class="sensor-help" style="margin-bottom:16px">Live streams from camera-enabled sensor units. Tap a stream for fullscreen.</p><div class="sensors-section sensors-devices-wrap"><h3 class="sensors-section-title">Camera streams</h3><div id="videoStreamGrid" class="sensor-grid"></div></div></div><div id="plant" class="panel"><h2>Plant Monitor</h2><p class="plant-help">Any sensor unit with a soil moisture probe appears here. Each C6 supports up to 4 Grove moisture sensors.</p><div class="plant-summary"><div class="summary-card"><div class="summary-title">Plants</div><div class="summary-value" id="plantSummaryCount">-</div><div class="summary-sub">Active moisture channels</div></div><div class="summary-card"><div class="summary-title">Need water</div><div class="summary-value" id="plantSummaryNeedsWater">-</div><div class="summary-sub">Below 25% moisture</div></div><div class="summary-card"><div class="summary-title">Avg moisture</div><div class="summary-value" id="plantSummaryAvgMoisture">-</div><div class="summary-sub">Across all plants</div></div></div><div class="graph-card"><h3 class="graph-title">Moisture over time</h3><div class="graph-wrap"><canvas id="plantGraph" width="800" height="200"></canvas></div><div id="plantGraphTime" class="graph-time"></div><div class="plant-graph-select-wrap"><div id="plantGraphSelect" class="env-sensor-list"></div></div></div><div class="plant-section"><h3 class="plant-section-title">Plant sensors</h3><div id="plantSensorCards" class="plant-cards-wrap"></div></div></div><div id="fishtank" class="panel"><h2>Fish tank</h2><p class="fishtank-help">Assign sensors to tanks by using a label containing &quot;tank&quot; or &quot;aquarium&quot;. Different labels are different tanks (e.g. &quot;Tank 1&quot;, &quot;Reef aquarium&quot;).</p><div class="graph-card"><h3 class="graph-title">Tank over time <span id="fishtankGraphLabel" class="graph-subtitle">All tanks</span></h3><div class="graph-wrap"><canvas id="fishtankGraph" width="800" height="200"></canvas></div><div id="fishtankGraphTime" class="graph-time"></div><div class="graph-legend"><span class="graph-legend-btn" data-series="temp" role="button" tabindex="0"><i class="graph-dot dot-temp"></i>Water temp (F)</span><span class="graph-legend-btn" data-series="tds" role="button" tabindex="0"><i class="graph-dot dot-tds"></i>TDS (ppm)</span></div><div class="fishtank-graph-select-wrap"><div id="fishtankGraphSelect" class="env-sensor-list"></div></div></div><div id="fishtankTanksWrap" class="fishtank-tanks-wrap"></div></div><div id="log" class="panel"><h2>Sensor data log</h2><p style="color:#9affc5;font-size:0.85rem">Last 128 readings (persisted, env graph shows last 6h).</p><button type="button" id="btnClearLog" class="primary" style="margin-bottom:10px">Clear log</button><div style="overflow-x:auto"><table id="logTable"><thead><tr><th class="sortable" data-sort="ts_ms">Time<span class="sort-indicator"></span></th><th class="sortable" data-sort="mac">MAC<span class="sort-indicator"></span></th><th class="sortable" data-sort="label">Label<span class="sort-indicator"></span></th><th class="sortable" data-sort="location">Location<span class="sort-indicator"></span></th><th class="sortable" data-sort="motion">Motion<span class="sort-indicator"></span></th><th class="sortable" data-sort="temp_f">T (°F)<span class="sort-indicator"></span></th><th class="sortable" data-sort="humidity">H (%)<span class="sort-indicator"></span></th><th class="sortable" data-sort="pressure">P (hPa)<span class="sort-indicator"></span></th><th class="sortable" data-sort="aqi">AQI<span class="sort-indicator"></span></th><th class="sortable" data-sort="uptime_ms">Uptime<span class="sort-indicator"></span></th></tr></thead><tbody id="logRows"></tbody></table></div></div><div id="ble_log" class="panel"><h2>BLE Log</h2><p style="color:#9affc5;font-size:0.85rem">Last 48 BLE detections (deduplicated).</p><div class="ble-actions"><button type="button" id="btnBleWhitelist" class="primary">Whitelist in-range devices</button><button type="button" id="btnBleWhitelistClear" class="btnRemove">Clear whitelist</button><span id="bleWhitelistStatus" class="muted"></span><span id="bleLogStatus" class="muted"></span></div><div class="ble-whitelist"><h3>BLE whitelist</h3><div class="ble-whitelist-form"><input id="bleWhitelistMac" placeholder="AA:BB:CC:DD:EE:FF"><input id="bleWhitelistLabel" placeholder="Label"><button type="button" id="btnBleWhitelistAdd">Add / Update</button></div><div style="overflow-x:auto"><table id="bleWhitelistTable"><thead><tr><th>BLE MAC</th><th>Label</th><th>Actions</th></tr></thead><tbody id="bleWhitelistRows"></tbody></table></div></div><button type="button" id="btnClearBleLog" class="primary" style="margin-bottom:10px">Clear log</button><div style="overflow-x:auto"><table id="bleLogTable"><thead><tr><th class="sortable" data-sort="ts_ms">Time<span class="sort-indicator"></span></th><th class="sortable" data-sort="sensor_mac">Sensor MAC<span class="sort-indicator"></span></th><th class="sortable" data-sort="label">Label<span class="sort-indicator"></span></th><th class="sortable" data-sort="ble_mac">BLE MAC<span class="sort-indicator"></span></th><th class="sortable" data-sort="rssi_dbm">RSSI<span class="sort-indicator"></span></th><th class="sortable" data-sort="seen_count">Seen<span class="sort-indicator"></span></th><th class="sortable" data-sort="is_new">New<span class="sort-indicator"></span></th></tr></thead><tbody id="bleLogRows"></tbody></table></div></div><div id="wifi_log" class="panel"><h2>WiFi Log</h2><p style="color:#9affc5;font-size:0.85rem">WiFi networks seen by sensor units (last 64). Enable WiFi scan per sensor below.</p><div class="ble-actions"><select id="wifiLogSensor"><option value="">Select sensor</option></select><button type="button" id="btnWifiLogEnable" class="primary">Enable WiFi scan</button><button type="button" id="btnWifiLogDisable" class="btnRemove">Disable</button><span id="wifiLogStatus" class="muted"></span></div><button type="button" id="btnClearWifiLog" class="primary" style="margin-bottom:10px">Clear log</button><div style="overflow-x:auto"><table id="wifiLogTable"><thead><tr><th>Time</th><th>Sensor</th><th>Label</th><th>SSID</th><th>BSSID</th><th>RSSI</th><th>Ch</th></tr></thead><tbody id="wifiLogRows"></tbody></table></div></div><script>{{INLINE_JS}}</script></div></body></html>